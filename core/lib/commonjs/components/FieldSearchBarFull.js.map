{"version":3,"sources":["FieldSearchBarFull.tsx"],"names":["FieldSearchBarFull","showIcon","Icon","icon","placeholder","style","theme","colors","typography","onChange","changeOverride","onSubmit","submitOverride","value","defaultValue","focused","setIsFocused","React","useState","onBlur","internalValue","setInternalValue","useEffect","useCallback","text","onFocus","e","lineHeight","typeStyles","body2","handleChangeText","newValue","styles","container","Config","fieldSearchBarFullIconSize","primary","light","marginLeft","flex","color","medium","StyleSheet","create","flexDirection","alignItems"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport {\n  View,\n  TextInput,\n  StyleSheet,\n  StyleProp,\n  ViewStyle,\n  NativeSyntheticEvent,\n  TextInputSubmitEditingEventData,\n} from \"react-native\";\nimport { withTheme } from \"../theming\";\nimport type { Theme } from \"../styles/DefaultTheme\";\nimport type { IconSlot } from \"../interfaces/Icon\";\nimport Config from \"./Config\";\n\ntype Props = {\n  showIcon: boolean;\n  icon?: string;\n  placeholder?: string;\n  style?: StyleProp<ViewStyle>;\n  theme: Theme;\n  onChange?: (text: string) => void;\n  onSubmit?: (e: NativeSyntheticEvent<TextInputSubmitEditingEventData>) => void;\n  value?: string;\n  defaultValue?: string;\n} & IconSlot;\n\nconst FieldSearchBarFull: React.FC<Props> = ({\n  showIcon,\n  Icon,\n  icon = \"search\",\n  placeholder = \"\",\n  style,\n  theme: { colors, typography },\n  onChange: changeOverride,\n  onSubmit: submitOverride,\n  value,\n  defaultValue,\n}) => {\n  const [focused, setIsFocused] = React.useState(false);\n\n  const onBlur = () => {\n    setIsFocused(false);\n  };\n\n  const [internalValue, setInternalValue] = React.useState<string | undefined>(\n    value || defaultValue\n  );\n\n  React.useEffect(() => {\n    if (value != null) {\n      setInternalValue(value);\n    }\n  }, [value]);\n\n  React.useEffect(() => {\n    if (defaultValue != null) {\n      setInternalValue(defaultValue);\n    }\n  }, [defaultValue]);\n\n  const onChange = React.useCallback(\n    (text: string) => {\n      changeOverride && changeOverride(text);\n    },\n    [changeOverride]\n  );\n\n  const onFocus = () => {\n    setIsFocused(true);\n  };\n\n  const onSubmit = (\n    e: NativeSyntheticEvent<TextInputSubmitEditingEventData>\n  ) => {\n    submitOverride && submitOverride(e);\n  };\n\n  const { lineHeight, ...typeStyles } = typography.body2; // eslint-disable-line @typescript-eslint/no-unused-vars\n\n  const handleChangeText = (newValue: string) => {\n    setInternalValue(newValue);\n    if (onChange) {\n      onChange(newValue);\n    }\n  };\n\n  return (\n    <View style={[styles.container, style]}>\n      {showIcon && (\n        <Icon\n          name={icon}\n          size={Config.fieldSearchBarFullIconSize}\n          color={focused ? colors.primary : colors.light}\n        />\n      )}\n      <View style={{ marginLeft: showIcon ? 12 : 0, flex: 1 }}>\n        <TextInput\n          clearButtonMode=\"while-editing\"\n          placeholder={placeholder}\n          value={internalValue}\n          onBlur={onBlur}\n          onFocus={onFocus}\n          onChangeText={handleChangeText}\n          onSubmitEditing={onSubmit}\n          placeholderTextColor={colors.light}\n          style={[\n            {\n              color: colors.medium,\n            },\n            typeStyles,\n          ]}\n        />\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n});\n\nexport default withTheme(FieldSearchBarFull);\n"]}