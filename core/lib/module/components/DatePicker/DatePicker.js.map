{"version":3,"sources":["DatePicker.tsx"],"names":["React","View","Animated","Text","StyleSheet","Platform","I18nManager","TextInput","NativeTextInput","useSafeAreaInsets","dateFormat","withTheme","Portal","Button","Touchable","DateTimePicker","AnimatedText","createAnimatedComponent","FOCUS_ANIMATION_DURATION","BLUR_ANIMATION_DURATION","ICON_SIZE","MONTHS","DatePicker","Icon","style","theme","colors","typography","roundness","disabledOpacity","date","onDateChange","defaultValue","disabled","mode","format","type","leftIconName","rightIconName","leftIconMode","label","placeholder","props","value","setValue","useState","useEffect","pickerVisible","setPickerVisible","labeled","Value","placeholder1","setPlaceholder1","focused","setFocused","labelLayout","setLabelLayout","measured","width","getValidDate","Date","getMonth","formatDate","newDate","toLocaleTimeString","toLocaleString","getDate","getFullYear","toggleVisibility","_handleBlur","_handleFocus","insets","_hidePlaceholder","timing","toValue","duration","useNativeDriver","start","_showPlaceholder","setTimeout","clearTimeout","MINIMIZED_LABEL_Y_OFFSET","caption","lineHeight","OUTLINE_MINIMIZED_LABEL_Y_OFFSET","MAXIMIZED_LABEL_FONT_SIZE","subtitle1","fontSize","MINIMIZED_LABEL_FONT_SIZE","hasActiveOutline","inputTextColor","activeColor","underlineColor","borderColor","placeholderColor","containerStyle","backgroundColor","inputStyle","strong","light","divider","primary","background","paddingVertical","color","paddingLeft","paddingRight","height","borderTopLeftRadius","borderTopRightRadius","paddingBottom","marginTop","borderRadius","borderWidth","paddingTop","opacity","paddingHorizontal","marginLeft","leftIconColor","leftIconProps","size","name","leftIconStyle","position","labelStyle","top","left","transform","translateY","interpolate","inputRange","outputRange","scale","translateX","inputStyles","styles","input","marginHorizontal","container","underline","scaleY","absoluteFill","e","nativeEvent","layout","right","picker","pickerContainer","bottom","OS","closeButton","_event","data","create","alignSelf","flexDirection","justifyContent","flexGrow","textAlignVertical","margin","textAlign","isRTL"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport {\n  View,\n  Animated,\n  Text,\n  StyleSheet,\n  StyleProp,\n  ViewStyle,\n  TextStyle,\n  Platform,\n  TextInputProps,\n  ImageStyle,\n  I18nManager,\n  LayoutChangeEvent,\n  TextInput as NativeTextInput,\n} from \"react-native\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\n\nimport dateFormat from \"dateformat\";\nimport { withTheme } from \"../../theming\";\nimport Portal from \"../Portal/Portal\";\nimport Button from \"../DeprecatedButton\";\nimport Touchable from \"../Touchable\";\nimport DateTimePicker from \"./DatePickerComponent\";\n\nimport type { Theme } from \"../../styles/DefaultTheme\";\nimport type { IconSlot } from \"../../interfaces/Icon\";\n\nconst AnimatedText = Animated.createAnimatedComponent(Text);\n\nconst FOCUS_ANIMATION_DURATION = 150;\nconst BLUR_ANIMATION_DURATION = 180;\nconst ICON_SIZE = 24;\n\ntype Props = {\n  style?: StyleProp<ViewStyle> & { height?: number };\n  theme: Theme;\n  // initialDate?: string;\n  // locale?: string;\n  // minuteInterval?: number;\n  // timeZoneOffsetInMinutes?: number;\n  // error?: boolean;\n  // type?: string;\n  date?: Date;\n  format?: string;\n  onDateChange?: (data?: Date) => void;\n  defaultValue?: Date;\n  disabled?: boolean;\n  mode?: \"date\" | \"time\" | \"datetime\";\n  type?: \"solid\" | \"underline\";\n  label?: string;\n  placeholder?: string;\n  leftIconName?: string;\n  leftIconMode?: \"outset\" | \"inset\";\n  rightIconName?: string;\n} & IconSlot &\n  TextInputProps;\n\nconst MONTHS = [\n  \"January\",\n  \"February\",\n  \"March\",\n  \"April\",\n  \"May\",\n  \"June\",\n  \"July\",\n  \"August\",\n  \"September\",\n  \"October\",\n  \"November\",\n  \"December\",\n];\n\nconst DatePicker: React.FC<Props> = ({\n  Icon,\n  style,\n  theme: { colors, typography, roundness, disabledOpacity },\n  date,\n  onDateChange = () => {},\n  defaultValue,\n  disabled = false,\n  mode = \"date\",\n  format,\n  type = \"underline\",\n  leftIconName,\n  rightIconName,\n  leftIconMode = \"inset\",\n  label,\n  placeholder,\n  ...props\n}) => {\n  const [value, setValue] = React.useState<any>(date || defaultValue);\n\n  React.useEffect(() => {\n    if (defaultValue != null) {\n      setValue(defaultValue);\n    }\n  }, [defaultValue]);\n\n  const [pickerVisible, setPickerVisible] = React.useState(false);\n  const [labeled] = React.useState<Animated.Value>(\n    new Animated.Value(date ? 0 : 1)\n  );\n  const [placeholder1, setPlaceholder1] = React.useState(\"\");\n  const [focused, setFocused] = React.useState<boolean>(false);\n  const [labelLayout, setLabelLayout] = React.useState<{\n    measured: Boolean;\n    width: number;\n  }>({ measured: false, width: 0 });\n\n  const getValidDate = (): Date => {\n    if (!value) {\n      return new Date();\n    }\n    return typeof value?.getMonth === \"function\" ? value : new Date();\n  };\n\n  const formatDate = (): string => {\n    if (!value) return \"\";\n    let newDate = getValidDate();\n\n    if (format) return dateFormat(newDate, format);\n\n    if (mode === \"time\") {\n      return `${newDate.toLocaleTimeString()}`;\n    }\n\n    if (mode === \"datetime\") {\n      return `${newDate.toLocaleString()}`;\n    }\n\n    return `${\n      MONTHS[newDate.getMonth()]\n    } ${newDate.getDate()}, ${newDate.getFullYear()}`;\n  };\n\n  const toggleVisibility = async () => {\n    setPickerVisible(!pickerVisible);\n    focused ? _handleBlur() : _handleFocus();\n  };\n  const insets = useSafeAreaInsets();\n\n  // const _restoreLabel = () =>\n  //   Animated.timing(labeled, {\n  //     toValue: 1,\n  //     duration: FOCUS_ANIMATION_DURATION,\n  //     useNativeDriver: true,\n  //   }).start();\n\n  // const _minmizeLabel = () =>\n  //   Animated.timing(labeled, {\n  //     toValue: 0,\n  //     duration: BLUR_ANIMATION_DURATION,\n  //     useNativeDriver: true,\n  //   }).start();\n\n  // const _showPlaceholder = () =>\n  //   setTimeout(() => setPlaceholder1(placeholder || \"\"), 50);\n\n  const _hidePlaceholder = () => {\n    setPlaceholder1(\"\");\n  };\n\n  React.useEffect(() => {\n    setValue(date);\n  }, [date]);\n\n  React.useEffect(() => {\n    if (value || focused || placeholder1) {\n      // _minmizeLabel();\n      Animated.timing(labeled, {\n        toValue: 0,\n        duration: BLUR_ANIMATION_DURATION,\n        useNativeDriver: true,\n      }).start();\n    } else {\n      // _restoreLabel();\n      Animated.timing(labeled, {\n        toValue: 1,\n        duration: FOCUS_ANIMATION_DURATION,\n        useNativeDriver: true,\n      }).start();\n    }\n  }, [value, focused, placeholder1, labeled]);\n\n  React.useEffect(() => {\n    const _showPlaceholder = () =>\n      setTimeout(() => setPlaceholder1(placeholder || \"\"), 50);\n    if (focused || !label) {\n      _showPlaceholder();\n    } else {\n      _hidePlaceholder();\n    }\n    return () => {\n      clearTimeout(_showPlaceholder());\n    };\n  }, [focused, label, placeholder]);\n\n  const _handleFocus = () => {\n    if (disabled) {\n      return;\n    }\n\n    setFocused(true);\n  };\n\n  const _handleBlur = () => {\n    if (disabled) {\n      return;\n    }\n    setFocused(false);\n  };\n\n  const MINIMIZED_LABEL_Y_OFFSET = -(typography.caption.lineHeight + 4);\n  const OUTLINE_MINIMIZED_LABEL_Y_OFFSET = -(16 * 0.5 + 4);\n  const MAXIMIZED_LABEL_FONT_SIZE = typography.subtitle1.fontSize;\n  const MINIMIZED_LABEL_FONT_SIZE = typography.caption.fontSize;\n\n  const hasActiveOutline = focused;\n\n  let inputTextColor,\n    activeColor,\n    underlineColor,\n    borderColor,\n    placeholderColor,\n    containerStyle: StyleProp<ViewStyle>,\n    backgroundColor,\n    inputStyle: StyleProp<TextStyle>;\n\n  inputTextColor = colors.strong;\n  if (disabled) {\n    activeColor = colors.light;\n    placeholderColor = colors.light;\n    borderColor = \"transparent\";\n    underlineColor = \"transparent\";\n    backgroundColor = colors.divider;\n  } else {\n    activeColor = colors.primary;\n    placeholderColor = borderColor = colors.light;\n    underlineColor = colors.light;\n    backgroundColor = colors.background;\n  }\n\n  const { lineHeight, ...subtitle1 } = typography.subtitle1;\n\n  inputStyle = {\n    paddingVertical: 0,\n    color: inputTextColor,\n    paddingLeft:\n      leftIconName && leftIconMode === \"inset\"\n        ? ICON_SIZE + (type === \"solid\" ? 16 : 12)\n        : 0,\n    paddingRight: rightIconName ? ICON_SIZE + 16 + 4 : 12,\n    ...subtitle1,\n    height: lineHeight,\n  };\n\n  if (type === \"underline\") {\n    containerStyle = {\n      borderTopLeftRadius: roundness,\n      borderTopRightRadius: roundness,\n      paddingBottom: 12,\n      marginTop: 16,\n    };\n  } else {\n    containerStyle = {\n      borderRadius: roundness,\n      borderColor: hasActiveOutline ? activeColor : borderColor,\n      borderWidth: 1,\n      paddingTop: labeled ? 16 * 1.5 : 16,\n      paddingBottom: labeled ? 16 * 0.5 : 16,\n      opacity: disabled ? disabledOpacity : 1,\n      backgroundColor,\n    };\n\n    inputStyle.paddingHorizontal = 12;\n  }\n\n  if (leftIconName && leftIconMode === \"outset\") {\n    containerStyle.marginLeft = ICON_SIZE + 8;\n  }\n\n  let leftIconColor;\n  if (focused) {\n    leftIconColor = colors.primary;\n  } else {\n    leftIconColor = colors.light;\n  }\n\n  const leftIconProps = {\n    size: 24,\n    color: leftIconColor,\n    name: leftIconName || \"\",\n  };\n\n  const leftIconStyle: ImageStyle = {\n    position: \"absolute\",\n    marginTop:\n      type === \"solid\"\n        ? leftIconMode === \"inset\"\n          ? MINIMIZED_LABEL_FONT_SIZE + 4\n          : 16\n        : leftIconMode === \"outset\"\n        ? 16\n        : 0,\n  };\n\n  const labelStyle = {\n    ...typography.subtitle1,\n    top: type === \"solid\" ? 16 : 0,\n    left:\n      leftIconName && leftIconMode === \"inset\"\n        ? ICON_SIZE + (type === \"solid\" ? 16 : 12)\n        : 0,\n    transform: [\n      {\n        // Move label to top\n        translateY: labeled.interpolate({\n          inputRange: [0, 1],\n          outputRange: [\n            type === \"solid\"\n              ? OUTLINE_MINIMIZED_LABEL_Y_OFFSET\n              : MINIMIZED_LABEL_Y_OFFSET,\n            0,\n          ],\n        }),\n      },\n      {\n        // Make label smaller\n        scale: labeled.interpolate({\n          inputRange: [0, 1],\n          outputRange: [\n            MINIMIZED_LABEL_FONT_SIZE / MAXIMIZED_LABEL_FONT_SIZE,\n            1,\n          ],\n        }),\n      },\n      {\n        // Offset label scale since RN doesn't support transform origin\n        translateX: labeled.interpolate({\n          inputRange: [0, 1],\n          outputRange: [\n            -(1 - MINIMIZED_LABEL_FONT_SIZE / MAXIMIZED_LABEL_FONT_SIZE) *\n              (labelLayout.width / 2),\n            0,\n          ],\n        }),\n      },\n    ],\n  };\n\n  const inputStyles = [\n    styles.input,\n    inputStyle,\n    type === \"solid\" ? { marginHorizontal: 12 } : {},\n  ];\n\n  // const render = (props) => <NativeTextInput {...props} />;\n\n  return (\n    <View style={[styles.container, style]}>\n      <Touchable disabled={disabled} onPress={toggleVisibility}>\n        <View pointerEvents=\"none\">\n          <View style={[styles.container, style]}>\n            {leftIconName && leftIconMode === \"outset\" ? (\n              <Icon {...leftIconProps} style={leftIconStyle} />\n            ) : null}\n            <View\n              style={[containerStyle, style ? { height: style.height } : {}]}\n            >\n              {type === \"underline\" ? (\n                // When type === 'flat', render an underline\n                <Animated.View\n                  style={[\n                    styles.underline,\n                    {\n                      backgroundColor: focused ? activeColor : underlineColor,\n                      // Underlines is thinner when input is not focused\n                      transform: [{ scaleY: focused ? 1 : 0.5 }],\n                    },\n                  ]}\n                />\n              ) : null}\n\n              {label ? (\n                // Position colored placeholder and gray placeholder on top of each other and crossfade them\n                // This gives the effect of animating the color, but allows us to use native driver\n                <View\n                  pointerEvents=\"none\"\n                  style={[\n                    StyleSheet.absoluteFill,\n                    {\n                      opacity:\n                        // Hide the label in minimized state until we measure its width\n                        date || focused ? (labelLayout.measured ? 1 : 0) : 1,\n                    },\n                  ]}\n                >\n                  <AnimatedText\n                    onLayout={(e: LayoutChangeEvent) =>\n                      setLabelLayout({\n                        width: e.nativeEvent.layout.width,\n                        measured: true,\n                      })\n                    }\n                    style={[\n                      styles.placeholder,\n                      type === \"solid\" ? { paddingHorizontal: 12 } : {},\n                      labelStyle,\n                      {\n                        color: colors.light,\n                        opacity: labeled.interpolate({\n                          inputRange: [0, 1],\n                          outputRange: [hasActiveOutline ? 1 : 0, 0],\n                        }),\n                      },\n                    ]}\n                    numberOfLines={1}\n                  >\n                    {label}\n                  </AnimatedText>\n                  <AnimatedText\n                    style={[\n                      styles.placeholder,\n                      type === \"solid\" ? { paddingHorizontal: 12 } : {},\n                      labelStyle,\n                      {\n                        color: placeholderColor,\n                        opacity: hasActiveOutline ? labeled : 1,\n                      },\n                    ]}\n                    numberOfLines={1}\n                  >\n                    {label}\n                  </AnimatedText>\n                </View>\n              ) : null}\n\n              {leftIconName && leftIconMode === \"inset\" ? (\n                <Icon\n                  {...leftIconProps}\n                  style={{\n                    ...leftIconStyle,\n                    marginLeft: type === \"solid\" ? 16 : 0,\n                  }}\n                />\n              ) : null}\n\n              <NativeTextInput\n                value={formatDate()}\n                placeholder={label ? placeholder1 : placeholder}\n                editable={!disabled}\n                placeholderTextColor={placeholderColor}\n                selectionColor={activeColor}\n                onFocus={_handleFocus}\n                onBlur={_handleBlur}\n                underlineColorAndroid={\"transparent\"}\n                style={inputStyles}\n                {...props}\n              />\n            </View>\n            {rightIconName ? (\n              <Icon\n                name={rightIconName}\n                size={ICON_SIZE}\n                color={colors.light}\n                style={{\n                  position: \"absolute\",\n                  right: 16,\n                  marginTop:\n                    type === \"solid\" ? MINIMIZED_LABEL_FONT_SIZE + 4 : 16,\n                }}\n              />\n            ) : null}\n          </View>\n        </View>\n      </Touchable>\n      {pickerVisible && (\n        <Portal>\n          <View\n            style={[\n              styles.picker,\n              {\n                backgroundColor: colors.divider,\n              },\n            ]}\n          >\n            <View\n              style={[\n                styles.pickerContainer,\n                {\n                  paddingTop: insets.top,\n                  paddingBottom: insets.bottom,\n                  paddingLeft: insets.left,\n                  paddingRight: insets.right,\n                },\n              ]}\n            >\n              {Platform.OS === \"ios\" && (\n                <Button\n                  Icon={Icon}\n                  type=\"text\"\n                  onPress={toggleVisibility}\n                  style={styles.closeButton}\n                >\n                  Close\n                </Button>\n              )}\n\n              <DateTimePicker\n                value={getValidDate()}\n                mode={mode}\n                isVisible={pickerVisible}\n                toggleVisibility={toggleVisibility}\n                onChange={(_event: any, data: any) => {\n                  Platform.OS === \"ios\" ? null : toggleVisibility();\n                  setValue(data);\n                  onDateChange(data);\n                }}\n              />\n            </View>\n          </View>\n        </Portal>\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    alignSelf: \"stretch\",\n  },\n  picker: {\n    position: \"absolute\",\n    bottom: 0,\n    left: 0,\n    right: 0,\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n  },\n  underline: {\n    position: \"absolute\",\n    left: 0,\n    right: 0,\n    bottom: 0,\n    height: 2,\n  },\n  input: {\n    flexGrow: 1,\n    justifyContent: \"center\",\n    textAlignVertical: \"center\",\n    margin: 0,\n    textAlign: I18nManager.isRTL ? \"right\" : \"left\",\n  },\n  placeholder: {\n    position: \"absolute\",\n    left: 0,\n  },\n  pickerContainer: { flexDirection: \"column\", width: \"100%\" },\n  closeButton: {\n    alignSelf: \"flex-end\",\n  },\n});\n\nexport default withTheme(DatePicker);\n"]}