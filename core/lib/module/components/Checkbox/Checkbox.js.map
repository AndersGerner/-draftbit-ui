{"version":3,"sources":["Checkbox.tsx"],"names":["React","View","StyleSheet","useTheme","Touchable","usePrevious","Checkbox","Icon","status","disabled","onPress","color","uncheckedColor","defaultValue","checkedIcon","uncheckedIcon","size","style","rest","internalValue","setInternalValue","useState","useEffect","previousDefaultValue","Boolean","colors","checkboxColor","primary","handlePress","styles","container","width","height","icon","absoluteFill","fillContainer","fill","opacity","borderColor","create","borderRadius","alignItems","justifyContent","alignSelf"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport {\n  View,\n  StyleSheet,\n  TouchableHighlightProps,\n  StyleProp,\n  ViewStyle,\n} from \"react-native\";\nimport { useTheme } from \"../../theming\";\nimport type { IconSlot } from \"../../interfaces/Icon\";\n\nimport Touchable from \"../Touchable\";\nimport { usePrevious } from \"../../hooks\";\n\nexport interface CheckboxProps {\n  status?: boolean;\n  disabled?: boolean;\n  onPress?: (checked: boolean) => void;\n  color?: string;\n  uncheckedColor?: string;\n  checkedIcon?: string;\n  uncheckedIcon?: string;\n  defaultValue?: boolean;\n  size?: number;\n  style?: StyleProp<ViewStyle>;\n}\n\nconst Checkbox: React.FC<CheckboxProps & TouchableHighlightProps & IconSlot> =\n  ({\n    Icon,\n    status,\n    disabled = false,\n    onPress = () => {},\n    color,\n    uncheckedColor,\n    defaultValue,\n    checkedIcon = \"MaterialCommunityIcons/checkbox-marked\",\n    uncheckedIcon = \"MaterialCommunityIcons/checkbox-blank-outline\",\n    size = 24,\n    style,\n    ...rest\n  }) => {\n    const [internalValue, setInternalValue] = React.useState<boolean>(\n      status || defaultValue || false\n    );\n\n    React.useEffect(() => {\n      if (status != null) {\n        setInternalValue(status);\n      }\n    }, [status]);\n\n    // This special logic is to handle weird APIs like Airtable that return\n    // true or undefined for a boolean\n    const previousDefaultValue = usePrevious(defaultValue) as\n      | boolean\n      | undefined;\n    React.useEffect(() => {\n      if (defaultValue !== previousDefaultValue) {\n        setInternalValue(Boolean(defaultValue));\n      }\n    }, [defaultValue, previousDefaultValue]);\n\n    const { colors } = useTheme();\n\n    const checkboxColor = internalValue\n      ? color || colors.primary\n      : uncheckedColor || colors.primary;\n\n    const handlePress = () => {\n      setInternalValue(!internalValue);\n      onPress(!internalValue);\n    };\n\n    return (\n      <Touchable\n        {...rest}\n        onPress={handlePress}\n        disabled={disabled}\n        accessibilityState={{ disabled }}\n        accessibilityRole=\"button\"\n        accessibilityLiveRegion=\"polite\"\n        style={[styles.container, style, { width: size, height: size }]}\n      >\n        <Icon\n          style={styles.icon}\n          name={internalValue ? checkedIcon : uncheckedIcon}\n          size={size}\n          color={checkboxColor}\n        />\n        <View style={[StyleSheet.absoluteFill, styles.fillContainer]}>\n          <View\n            style={[\n              styles.fill,\n              { opacity: disabled ? 0.5 : 1 },\n              { borderColor: checkboxColor },\n            ]}\n          />\n        </View>\n      </Touchable>\n    );\n  };\n\nconst styles = StyleSheet.create({\n  container: {\n    borderRadius: 18,\n  },\n  fillContainer: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  icon: {\n    alignSelf: \"center\",\n  },\n  fill: {\n    borderRadius: 5,\n    width: 30,\n    height: 30,\n    alignSelf: \"center\",\n  },\n});\n\nexport default Checkbox;\n"]}